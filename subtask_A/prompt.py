# System prompt for span detection
SPAN_DETECTION_SYSTEM_PROMPT = """You are a helpful assistant and your task is to detect all spans in the text provided by the user and tag it as Quran or Hadith using two tags ق for Quran and ح for Hadith.
Put the span between square brackets [] followed by | and then the tag. Don't incldue the quotation marks or other special markers before and after the span, just the actual text of Quran and Hadith.
Never output the special tokens [ ] or | in other places than the span detected, if they appear in the original text replace them with { } and , respectively.
Also, include the whole text in the response but adding the span markers with tags like the examples.
Don't add any other text or explanation and don't change the original text besides adding the tags as instructed. Tag all spans that are Quran or Hadith, even if they are not complete sentences.
Tag only the actual Ayat or Hadith, not the references or numbers. Don't include references or numbers in the tags.
Examples:

1- User Input:
قل هو الله أحد
Output:
    [ قل هو الله أحد | ق ]

2- User Input:
وفقا لمعلوماتي، فإن النبي محمد صلى الله عليه وسلم تزوج أكثر من أربع نساء، وذلك بسبب خصوصياته التي خصه الله بها. وقد ورد في القرآن الكريم ما يدل على ذلك في سورة الأحزاب، الآية 21: "{لَقَدْ كَانَ لَكُمْ فِي رَسُولِ اللَّهِ أُسْوَةٌ حَسَنَةٌ لِمَن كَانَ يَرْجُو اللَّهَ وَالْيَوْمَ الْآخِرَ وَذَكَرَ اللَّهَ كَثِيرًا".
كما ذكر الإمام القرطبي في تفسيره، أن النبي صلى الله عليه وسلم كان له خصائص في النكاح، منها أنه يتزوج بأكثر من أربع. وقد روى الإمام مالك في موطئه، والنسائي والدارقطني في سننهما، أن النبي صلى الله عليه وسلم قال لغيلان بن أمية الثقفي وقد أسلم وتحته عشر نسوة: اختر منهم أربعاً وفارق سائرهن.
كما روى أبو داود عن الحارث بن قيس قال: أسلمت وعندي ثمان نسوة، فذكرت ذلك للنبي صلى الله عليه وسلم فقال: اختر منهن أربعاً.
وقد ذكر مقاتل أن قيس بن الحارث كان عنده ثمان نسوة حرائر، فلما نزلت هذه الآية أمره رسول الله صلى الله عليه وسلم أن يطلق أربعاً ويمسك أربعاً. والصواب أن ذلك كان حارث بن قيس الأسدي كما ذكر أبو داود.
وهذه الخصوصيات للنبي صلى الله عليه وسلم لا تنطبق على غيره من المسلمين، حيث أن الآية "فَانْكِحُوا مَا طَابَ لَكُمْ مِنَ النِّسَاءِ مَثْنَى وَثُلَاثَ وَرُبَاعَ" [النساء: 3] تشير إلى أن المقصود هو أن ينكح بعضهم اثنتين، وبعضهم ثلاثًا، وبعضهم أربعًا. ولا يدل على أن كل واحد منهم يمكنه أن ينكح تسع نساء.
كما ذكر الإمام القرطبي أن القرآن نزل تبيانًا لكل شيء، ولو أراد الله أن يبين لعباده حل النساء إلى التسع لقال: فانكحوا ما طاب لكم من النساء اثنتين أو ثلاثًا أو أربعًا أو خمسًا أو ستًا إلى التسع، ولا يأتي بهذا الأسلوب المشتبه.

Output:
}وفقا لمعلوماتي، فإن النبي محمد صلى الله عليه وسلم تزوج أكثر من أربع نساء، وذلك بسبب خصوصياته التي خصه الله بها. وقد ورد في القرآن الكريم ما يدل على ذلك في سورة الأحزاب، الآية 21: "{[لَقَدْ كَانَ لَكُمْ فِي رَسُولِ اللَّهِ أُسْوَةٌ حَسَنَةٌ لِمَن كَانَ يَرْجُو اللَّهَ وَالْيَوْمَ الْآخِرَ وَذَكَرَ اللَّهَ كَثِيرًا | ح]".
كما ذكر الإمام القرطبي في تفسيره، أن النبي صلى الله عليه وسلم كان له خصائص في النكاح، منها أنه يتزوج بأكثر من أربع. وقد روى الإمام مالك في موطئه، والنسائي والدارقطني في سننهما، أن النبي صلى الله عليه وسلم قال لغيلان بن أمية الثقفي وقد أسلم وتحته عشر نسوة: [اختر منهم أربعاً | ح] وفارق سائرهن.
كما روى أبو داود عن الحارث بن قيس قال: أسلمت وعندي ثمان نسوة، فذكرت ذلك للنبي صلى الله عليه وسلم فقال: [اختر منهن أربعاً | ح].
وقد ذكر مقاتل أن قيس بن الحارث كان عنده ثمان نسوة حرائر، فلما نزلت هذه الآية أمره رسول الله صلى الله عليه وسلم أن يطلق أربعاً ويمسك أربعاً. والصواب أن ذلك كان حارث بن قيس الأسدي كما ذكر أبو داود.
وهذه الخصوصيات للنبي صلى الله عليه وسلم لا تنطبق على غيره من المسلمين، حيث أن الآية "[فَانْكِحُوا مَا طَابَ لَكُمْ مِنَ النِّسَاءِ مَثْنَى وَثُلَاثَ وَرُبَاعَ | ق]" [النساء: 3] تشير إلى أن المقصود هو أن ينكح بعضهم اثنتين، وبعضهم ثلاثًا، وبعضهم أربعًا. ولا يدل على أن كل واحد منهم يمكنه أن ينكح تسع نساء.
كما ذكر الإمام القرطبي أن القرآن نزل تبيانًا لكل شيء، ولو أراد الله أن يبين لعباده حل النساء إلى التسع لقال: [فانكحوا ما طاب لكم من النساء اثنتين أو ثلاثًا أو أربعًا أو خمسًا أو ستًا إلى التسع، ولا يأتي بهذا الأسلوب المشتبه.

     
3- User Input:
قال الله تعالى "وَقَالَ لَهُمْ أَتَعْرِفُونَ اللَّهَ وَهُوَ يُزَيِّلُكُمْ لَهُ دِينُكُمْ وَلَوْ شَاءَ لَرَفَعَكُمْ تَضْوَلاً" [الفرقان: 3]
Output:
                قال الله تعالى "[وَقَالَ لَهُمْ أَتَعْرِفُونَ اللَّهَ وَهُوَ يُزَيِّلُكُمْ لَهُ دِينُكُمْ وَلَوْ شَاءَ لَرَفَعَكُمْ تَضْوَلاً | ق ]" {الفرقان: 3}

"""